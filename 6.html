<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <title>Методические рекомендации — Отчётность и аналитика</title>

    <!-- Mermaid JS -->
    <script type="module">
        import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs";
        mermaid.initialize({
            startOnLoad: true,
            theme: "default",
            securityLevel: "loose"
        });
    </script>

    <style>
        body {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            margin: 0;
            padding: 0;
            line-height: 1.6;
            background-color: #ffffff;
            color: #333333;
        }

        header {
            background: #f5f5f5;
            border-bottom: 1px solid #e0e0e0;
            padding: 1.5rem 2rem 1rem;
        }

        header h1 {
            margin: 0 0 0.5rem;
            font-size: 1.6rem;
        }

        header p {
            margin: 0.1rem 0;
        }

        main {
            padding: 1.5rem 2rem 3rem;
            max-width: 1100px;
            margin: 0 auto;
        }

        nav {
            background: #fafafa;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 1rem 1.5rem;
            margin-bottom: 2rem;
        }

        nav h2 {
            font-size: 1.1rem;
            margin-top: 0;
        }

        nav ul {
            list-style: none;
            padding-left: 0;
            margin: 0.3rem 0;
        }

        nav li {
            margin: 0.15rem 0;
        }

        nav a {
            color: #e53935;
            text-decoration: none;
        }

        nav a:hover {
            text-decoration: underline;
        }

        h1, h2, h3, h4 {
            font-weight: 600;
            margin-top: 1.8rem;
        }

        h1 {
            font-size: 1.5rem;
        }

        h2 {
            font-size: 1.3rem;
        }

        h3 {
            font-size: 1.1rem;
        }

        h4 {
            font-size: 1rem;
        }

        p {
            margin: 0.4rem 0 0.8rem;
        }

        ul, ol {
            margin: 0.2rem 0 0.8rem 1.5rem;
        }

        hr {
            border: none;
            border-top: 1px solid #e0e0e0;
            margin: 1.8rem 0;
        }

        table {
            border-collapse: collapse;
            width: 100%;
            margin: 0.8rem 0 1.2rem;
        }

        table, th, td {
            border: 1px solid #d0d0d0;
        }

        th, td {
            padding: 6px 10px;
            text-align: left;
        }

        th {
            background: #f2f2f2;
        }

        pre {
            background: #f9f9f9;
            border-radius: 6px;
            padding: 0.75rem 1rem;
            overflow-x: auto;
            font-size: 0.9rem;
        }

        code {
            font-family: "SFMono-Regular", Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
        }

        .mermaid {
            margin: 1rem 0;
            padding: 0.75rem 1rem;
            border-radius: 6px;
            background: #f8f8f8;
            font-family: "SFMono-Regular", Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
            font-size: 0.9rem;
            overflow-x: auto;
        }

        .code-block-label {
            font-size: 0.85rem;
            color: #666666;
            margin-bottom: 0.2rem;
        }
    </style>
</head>
<body>
<header>
    <h1>Методические рекомендации</h1>
    <p><strong>Тема:</strong> 6. Отчётность и аналитика</p>
  
</header>

<main>
    <nav>
        <h2>Навигация по разделам</h2>
        <ul>
            <li><a href="#sec-6">6. Теория: Отчётность и аналитика</a>
                <ul>
                    <li><a href="#sec-6-1">6.1. Способы сравнения показателей эффективности</a></li>
                    <li><a href="#sec-6-2">6.2. Таблицы «до / после оптимизации»</a></li>
                    <li><a href="#sec-6-3">6.3. Оформление технических отчётов</a></li>
                    <li><a href="#sec-6-4">6.4. Академический стиль и терминология</a></li>
                </ul>
            </li>
        </ul>
    </nav>

    <section id="sec-6">
        <h1>6. Отчётность и аналитика</h1>

        <hr />

        <!-- 6.1 -->
        <section id="sec-6-1">
            <h2>6.1. Способы сравнения показателей эффективности</h2>

            <p>
                Оценка эффективности веб-приложения основывается на анализе метрик, которые отражают техническое состояние
                и производительность системы до и после оптимизации. Основные показатели измеряются с помощью Chrome Lighthouse,
                Chrome DevTools, мониторинга сервера и анализа SQL-запросов.
            </p>

            <h3>6.1.1. Типовые метрики web-производительности</h3>

            <table>
                <thead>
                    <tr>
                        <th>Метрика</th>
                        <th>Назначение</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>FCP (First Contentful Paint)</td>
                        <td>время появления первого контента</td>
                    </tr>
                    <tr>
                        <td>LCP (Largest Contentful Paint)</td>
                        <td>время отображения основного блока страницы</td>
                    </tr>
                    <tr>
                        <td>TTI (Time to Interactive)</td>
                        <td>время до полной интерактивности</td>
                    </tr>
                    <tr>
                        <td>Requests count</td>
                        <td>количество сетевых запросов</td>
                    </tr>
                    <tr>
                        <td>Total network weight</td>
                        <td>общий вес загруженных ресурсов</td>
                    </tr>
                    <tr>
                        <td>JS execution time</td>
                        <td>время выполнения JS-кода</td>
                    </tr>
                    <tr>
                        <td>CPU load</td>
                        <td>нагрузка на процессор</td>
                    </tr>
                    <tr>
                        <td>Memory usage</td>
                        <td>использование оперативной памяти</td>
                    </tr>
                    <tr>
                        <td>Server Response Time</td>
                        <td>задержки API / backend</td>
                    </tr>
                    <tr>
                        <td>SQL latency</td>
                        <td>время выполнения SQL-запросов</td>
                    </tr>
                </tbody>
            </table>

            <h3>6.1.2. Пример измерений до и после оптимизации</h3>

            <pre><code>FCP:        2.8s  → 1.4s
LCP:        4.2s  → 1.9s
JS Exec:    950ms → 380ms
Network:    3.4 MB → 1.1 MB
SQL-query:  240ms → 40ms (после добавления индекса)</code></pre>

            <h3>6.1.3. Mermaid-диаграмма сравнения результатов</h3>

            <div class="mermaid">
graph TD
    A[До оптимизации] --> B((Высокая задержка))
    A --> C((Большой вес ресурсов))

    D[После оптимизации] --> E((Уменьшение задержек))
    D --> F((Снижение трафика))
            </div>
        </section>

        <hr />

        <!-- 6.2 -->
        <section id="sec-6-2">
            <h2>6.2. Подготовка таблиц «до / после оптимизации»</h2>

            <p>
                Сравнительные таблицы — один из основных инструментов аналитики. Они позволяют наглядно и объективно
                показать улучшения в производительности проекта.
            </p>

            <h3>6.2.1. Пример таблицы улучшений</h3>

            <table>
                <thead>
                    <tr>
                        <th>Метрика</th>
                        <th>До</th>
                        <th>После</th>
                        <th>Улучшение</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>FCP</td>
                        <td>2.8 s</td>
                        <td>1.4 s</td>
                        <td>−50%</td>
                    </tr>
                    <tr>
                        <td>LCP</td>
                        <td>4.2 s</td>
                        <td>1.9 s</td>
                        <td>−54%</td>
                    </tr>
                    <tr>
                        <td>Вес JS</td>
                        <td>980 KB</td>
                        <td>320 KB</td>
                        <td>−67%</td>
                    </tr>
                    <tr>
                        <td>SQL-запрос /products</td>
                        <td>240 ms</td>
                        <td>40 ms</td>
                        <td>−83%</td>
                    </tr>
                    <tr>
                        <td>Количество запросов</td>
                        <td>37</td>
                        <td>21</td>
                        <td>−43%</td>
                    </tr>
                </tbody>
            </table>

            <h3>6.2.2. Пример графика улучшений (Mermaid Pie)</h3>

            <div class="mermaid">
pie title Оптимизация SQL-запроса (время, мс)
    "До" : 240
    "После" : 40
            </div>

            <h3>6.2.3. Шаблон таблицы для отчёта</h3>

            <pre><code>| Метрика | Значение до | Значение после | Разница | Комментарий |
|---------|-------------|----------------|---------|-------------|
|         |             |                |         |             |
|         |             |                |         |             |</code></pre>
        </section>

        <hr />

        <!-- 6.3 -->
        <section id="sec-6-3">
            <h2>6.3. Оформление технических отчётов, добавление скриншотов и EXPLAIN-планов</h2>

            <p>
                Технический отчёт должен быть структурированным, доказательным и воспроизводимым: по нему другой разработчик
                должен суметь повторить измерения и убедиться в результатах оптимизации.
            </p>

            <h3>6.3.1. Структура хорошего отчёта</h3>

            <ol>
                <li><strong>Введение</strong>
                    <ul>
                        <li>цель оптимизации;</li>
                        <li>краткая характеристика системы.</li>
                    </ul>
                </li>
                <li><strong>Методика измерений</strong>
                    <ul>
                        <li>инструменты (Lighthouse, Chrome DevTools, PostgreSQL EXPLAIN);</li>
                        <li>условия тестирования (окружение, подключение, нагрузка).</li>
                    </ul>
                </li>
                <li><strong>Результаты измерений</strong>
                    <ul>
                        <li>таблицы;</li>
                        <li>графики;</li>
                        <li>скриншоты DevTools / Lighthouse.</li>
                    </ul>
                </li>
                <li><strong>Что было оптимизировано</strong>
                    <ul>
                        <li>какие ресурсы сжаты или объединены;</li>
                        <li>какие SQL-запросы переписаны;</li>
                        <li>какие индексы добавлены.</li>
                    </ul>
                </li>
                <li><strong>EXPLAIN-анализ</strong>
                    <ul>
                        <li>сравнение планов до и после оптимизации.</li>
                    </ul>
                </li>
                <li><strong>Выводы</strong>
                    <ul>
                        <li>итоговая оценка эффективности, выводы и рекомендации.</li>
                    </ul>
                </li>
            </ol>

            <h3>6.3.2. Пример EXPLAIN-плана (до оптимизации)</h3>

            <pre><code>Seq Scan on products  (cost=0.00..1820.00 rows=90000 width=120)
  Filter: (category_id = 5)</code></pre>

            <p><strong>Проблема:</strong> полное сканирование таблицы — отсутствует индекс.</p>

            <h3>6.3.3. EXPLAIN-план после оптимизации</h3>

            <pre><code>Index Scan using idx_products_category_id on products  
  (cost=0.43..32.21 rows=120 width=120)</code></pre>

            <p>
                Количество обрабатываемых строк снизилось примерно в 700 раз, что приводит к существенному снижению
                времени выполнения запроса.
            </p>

            <h3>6.3.4. Пример вставки скриншота в отчёт</h3>

            <pre><code>![Network Screenshot](screenshots/network-before.png)

На изображении видно, что вес страницы составляет 3.4 MB.
После оптимизации он уменьшился до 1.1 MB.</code></pre>

            <h3>6.3.5. Mermaid-схема процесса подготовки отчёта</h3>

            <div class="mermaid">
flowchart TD
    A[Сбор данных] --> B[Формирование таблиц]
    B --> C[Анализ EXPLAIN]
    C --> D[Подготовка скриншотов]
    D --> E[Оформление отчёта]
            </div>
        </section>

        <hr />

        <!-- 6.4 -->
        <section id="sec-6-4">
            <h2>6.4. Корректное использование терминологии и академического стиля</h2>

            <p>
                Для официальной отчётности важно соблюдать академический стиль: формулировки должны быть точными, 
                терминология — единой, а выводы — обоснованными.
            </p>

            <h3>6.4.1. Принципы академического стиля</h3>

            <ul>
                <li>точные формулировки:
                    <em>«SQL-запрос был оптимизирован путём добавления индекса»</em>;</li>
                <li>отсутствие разговорных выражений:
                    не следует писать <em>«запрос тупил», «страница лагала»</em>;</li>
                <li>логичная структура изложения, соблюдение структуры отчёта;</li>
                <li>корректные ссылки на инструменты (Chrome DevTools, PostgreSQL EXPLAIN, Lighthouse 11.1 и др.);</li>
                <li>единая терминологическая база во всём документе;</li>
                <li>объективность:
                    <em>«Время выполнения уменьшилось на 40%»</em>, а не просто <em>«стало лучше»</em>.</li>
            </ul>

            <h3>6.4.2. Пример фрагмента отчёта</h3>

            <pre><code>В результате оптимизации SQL-запроса
`SELECT * FROM products WHERE category_id = 5`
время выполнения уменьшилось с 240 мс до 40 мс.

Сокращение достигнуто благодаря созданию индекса:

CREATE INDEX idx_products_category_id ON products(category_id);

План выполнения изменился с Seq Scan на Index Scan,
что значительно уменьшило количество анализируемых строк.</code></pre>
        </section>
    </section>
</main>
</body>
</html>
